[gd_scene load_steps=11 format=3 uid="uid://vq5kr86416s4"]

[ext_resource type="PackedScene" uid="uid://krh4wqhn34oi" path="res://scenes/entities/minion.tscn" id="1_4bfgp"]
[ext_resource type="PackedScene" uid="uid://nydo5vwxibai" path="res://scenes/entities/player.tscn" id="1_tcglg"]
[ext_resource type="Script" path="res://scripts/entities/spawners/enemy_spawner.gd" id="2_qdphv"]
[ext_resource type="PackedScene" uid="uid://dubqfll6wt3er" path="res://scenes/entities/enemy.tscn" id="3_3rgyx"]
[ext_resource type="Script" path="res://scripts/entities/spawners/spawner_rotation.gd" id="4_ko6km"]
[ext_resource type="Texture2D" uid="uid://dbhlxyr0jai8p" path="res://assets/sprites/pentagram.svg" id="5_5fu4y"]
[ext_resource type="Script" path="res://scripts/camera/follow_camera_2d.gd" id="5_wc26p"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_k0imj"]
blend_mode = 4

[sub_resource type="ViewportTexture" id="ViewportTexture_3khim"]
viewport_path = NodePath("Player/PentagramSprite/SubViewport")

[sub_resource type="NavigationPolygon" id="NavigationPolygon_fcdfl"]
vertices = PackedVector2Array(83024.7, 46622, -61150.1, 46028, -62336.8, -28296, 80990.3, -28720)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-61160, 46038, 83035, 46632, 81000, -28730, -62347, -28306)])
parsed_geometry_type = 1

[node name="GameScene" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1_tcglg")]

[node name="PentagramSprite" type="Sprite2D" parent="Player"]
z_index = -1
material = SubResource("CanvasItemMaterial_k0imj")
scale = Vector2(4, 4)
texture = SubResource("ViewportTexture_3khim")

[node name="SubViewport" type="SubViewport" parent="Player/PentagramSprite"]
transparent_bg = true
size = Vector2i(96, 96)

[node name="Sprite2D" type="Sprite2D" parent="Player/PentagramSprite/SubViewport"]
modulate = Color(1, 0, 0, 1)
z_index = -1
position = Vector2(48, 48)
scale = Vector2(0.18, 0.18)
texture = ExtResource("5_5fu4y")
script = ExtResource("4_ko6km")
rotate_speed = 1.0

[node name="SpawnerRotation2" type="Node2D" parent="Player"]
script = ExtResource("4_ko6km")
rotate_speed = 25.0

[node name="MinionSpawner" type="Node2D" parent="Player/SpawnerRotation2" node_paths=PackedStringArray("spawn_to")]
position = Vector2(120, 0)
script = ExtResource("2_qdphv")
spawn_interval_min = 2.5
spawn_interval_max = 2.5
spawn_scene = ExtResource("1_4bfgp")
spawn_to = NodePath("../../..")

[node name="MinionSpawner2" type="Node2D" parent="Player/SpawnerRotation2" node_paths=PackedStringArray("spawn_to")]
position = Vector2(-120, 0)
script = ExtResource("2_qdphv")
spawn_interval_min = 2.5
spawn_interval_max = 2.5
spawn_scene = ExtResource("1_4bfgp")
spawn_to = NodePath("../../..")

[node name="SpawnerRotation" type="Node2D" parent="Player"]
script = ExtResource("4_ko6km")
rotate_speed = 25.0

[node name="EnemySpawner" type="Node2D" parent="Player/SpawnerRotation" node_paths=PackedStringArray("spawn_to")]
position = Vector2(800, 0)
script = ExtResource("2_qdphv")
spawn_interval_min = 1.4
spawn_interval_max = 1.8
spawn_scene = ExtResource("3_3rgyx")
spawn_to = NodePath("../../..")

[node name="EnemySpawner2" type="Node2D" parent="Player/SpawnerRotation" node_paths=PackedStringArray("spawn_to")]
position = Vector2(-800, 0)
script = ExtResource("2_qdphv")
spawn_interval_min = 1.4
spawn_interval_max = 1.8
spawn_scene = ExtResource("3_3rgyx")
spawn_to = NodePath("../../..")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
position = Vector2(-2156, -1036)
navigation_polygon = SubResource("NavigationPolygon_fcdfl")

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("target")]
script = ExtResource("5_wc26p")
target = NodePath("../Player")
